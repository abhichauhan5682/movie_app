{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web Development Codes\\\\Projects\\\\movie_app_original\\\\client\\\\src\\\\components\\\\movie\\\\favouritebutton.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button } from 'antd';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FavouriteButton = props => {\n  _s();\n\n  console.log(props);\n  const variable = {\n    userFrom: props.userFrom,\n    movieId: props.movieId,\n    movieTitle: props.movieInfo.original_title,\n    movieImage: props.movieInfo.backdrop_path,\n    movieRunTime: props.movieInfo.runtime\n  };\n  const [favouriteNumber, setNumber] = useState(0);\n  const [favourited, setFavourited] = useState(false);\n  useEffect(async () => {\n    const res = await axios.post('/api/favourite/favouriteNumber', variable);\n\n    if (res.data.success) {\n      console.log(res);\n      setNumber(res.data.favouriteNumber);\n    }\n\n    const res1 = await axios.post('/api/favourite/favourited', variable);\n\n    if (res1.data.success) {\n      console.log(res1);\n      setFavourited(res1.data.favourited);\n    }\n  }, []);\n\n  const handelFavourite = async () => {\n    if (favourited) {\n      axios.post('/api/favourite/removeFromFavourite', variable).then(response => {\n        if (response.data.success) {\n          setNumber(favouriteNumber - 1);\n          setFavourited(!favourited);\n        } else {\n          alert('Failed to Remove From Favorite');\n        }\n      });\n    } else {\n      axios.post('/api/favourite/addToFavourite', variable).then(response => {\n        if (response.data.success) {\n          setNumber(favouriteNumber + 1);\n          setFavourited(!favourited);\n        } else {\n          alert('Failed to Add To Favourite');\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handelFavourite,\n      children: [\" \", favourited ? \"Remove From Favourite\" : \"Add To Favourite\", \" \", favouriteNumber]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FavouriteButton, \"PHKUHfJKYw0MJt/T1X4yKZzOqHs=\");\n\n_c = FavouriteButton;\nexport default FavouriteButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavouriteButton\");","map":{"version":3,"sources":["C:/Web Development Codes/Projects/movie_app_original/client/src/components/movie/favouritebutton.js"],"names":["React","useEffect","useState","Button","axios","FavouriteButton","props","console","log","variable","userFrom","movieId","movieTitle","movieInfo","original_title","movieImage","backdrop_path","movieRunTime","runtime","favouriteNumber","setNumber","favourited","setFavourited","res","post","data","success","res1","handelFavourite","then","response","alert"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAAQC,MAAR,QAAqB,MAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AAAA;;AAC/BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,QAAMG,QAAQ,GAAC;AACXC,IAAAA,QAAQ,EAACJ,KAAK,CAACI,QADJ;AAEXC,IAAAA,OAAO,EAACL,KAAK,CAACK,OAFH;AAGXC,IAAAA,UAAU,EAACN,KAAK,CAACO,SAAN,CAAgBC,cAHhB;AAIXC,IAAAA,UAAU,EAACT,KAAK,CAACO,SAAN,CAAgBG,aAJhB;AAKXC,IAAAA,YAAY,EAACX,KAAK,CAACO,SAAN,CAAgBK;AALlB,GAAf;AAOA,QAAK,CAACC,eAAD,EAAiBC,SAAjB,IAA4BlB,QAAQ,CAAC,CAAD,CAAzC;AACA,QAAK,CAACmB,UAAD,EAAYC,aAAZ,IAA2BpB,QAAQ,CAAC,KAAD,CAAxC;AACAD,EAAAA,SAAS,CAAC,YAAU;AAEhB,UAAMsB,GAAG,GAAC,MAAMnB,KAAK,CAACoB,IAAN,CAAW,gCAAX,EAA4Cf,QAA5C,CAAhB;;AACA,QAAGc,GAAG,CAACE,IAAJ,CAASC,OAAZ,EAAoB;AAChBnB,MAAAA,OAAO,CAACC,GAAR,CAAYe,GAAZ;AACAH,MAAAA,SAAS,CAACG,GAAG,CAACE,IAAJ,CAASN,eAAV,CAAT;AACH;;AACD,UAAMQ,IAAI,GAAE,MAAMvB,KAAK,CAACoB,IAAN,CAAW,2BAAX,EAAuCf,QAAvC,CAAlB;;AACA,QAAGkB,IAAI,CAACF,IAAL,CAAUC,OAAb,EAAqB;AACjBnB,MAAAA,OAAO,CAACC,GAAR,CAAYmB,IAAZ;AACAL,MAAAA,aAAa,CAACK,IAAI,CAACF,IAAL,CAAUJ,UAAX,CAAb;AACH;AAEJ,GAbQ,EAaP,EAbO,CAAT;;AAcA,QAAMO,eAAe,GAAC,YAAU;AAC5B,QAAGP,UAAH,EAAc;AACVjB,MAAAA,KAAK,CAACoB,IAAN,CAAW,oCAAX,EAAiDf,QAAjD,EACKoB,IADL,CACUC,QAAQ,IAAI;AACd,YAAIA,QAAQ,CAACL,IAAT,CAAcC,OAAlB,EAA2B;AACvBN,UAAAA,SAAS,CAACD,eAAe,GAAG,CAAnB,CAAT;AACAG,UAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACH,SAHD,MAGO;AACHU,UAAAA,KAAK,CAAC,gCAAD,CAAL;AACH;AACJ,OARL;AASH,KAVD,MAUK;AACD3B,MAAAA,KAAK,CAACoB,IAAN,CAAW,+BAAX,EAA4Cf,QAA5C,EACKoB,IADL,CACUC,QAAQ,IAAI;AACd,YAAIA,QAAQ,CAACL,IAAT,CAAcC,OAAlB,EAA2B;AACvBN,UAAAA,SAAS,CAACD,eAAe,GAAG,CAAnB,CAAT;AACAG,UAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACH,SAHD,MAGO;AACHU,UAAAA,KAAK,CAAC,4BAAD,CAAL;AACH;AACJ,OARL;AASH;AACJ,GAtBD;;AAuBA,sBACI;AAAA,2BACI,QAAC,MAAD;AAAQ,MAAA,OAAO,EAAEH,eAAjB;AAAA,sBAAoCP,UAAU,GAAC,uBAAD,GAAyB,kBAAvE,OAA4FF,eAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CArDD;;GAAMd,e;;KAAAA,e;AAuDN,eAAeA,eAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport {Button} from 'antd';\r\nimport axios from 'axios';\r\n\r\nconst FavouriteButton = (props) => {\r\n    console.log(props);\r\n    const variable={\r\n        userFrom:props.userFrom,\r\n        movieId:props.movieId,\r\n        movieTitle:props.movieInfo.original_title,\r\n        movieImage:props.movieInfo.backdrop_path,\r\n        movieRunTime:props.movieInfo.runtime\r\n    }\r\n    const[favouriteNumber,setNumber]=useState(0);\r\n    const[favourited,setFavourited]=useState(false);\r\n    useEffect(async ()=>{\r\n\r\n        const res=await axios.post('/api/favourite/favouriteNumber',variable);\r\n        if(res.data.success){\r\n            console.log(res);\r\n            setNumber(res.data.favouriteNumber);\r\n        }\r\n        const res1= await axios.post('/api/favourite/favourited',variable);\r\n        if(res1.data.success){\r\n            console.log(res1);\r\n            setFavourited(res1.data.favourited);\r\n        }\r\n\r\n    },[]);\r\n    const handelFavourite=async ()=>{\r\n        if(favourited){\r\n            axios.post('/api/favourite/removeFromFavourite', variable)\r\n                .then(response => {\r\n                    if (response.data.success) {\r\n                        setNumber(favouriteNumber - 1)\r\n                        setFavourited(!favourited)\r\n                    } else {\r\n                        alert('Failed to Remove From Favorite')\r\n                    }\r\n                })\r\n        }else{\r\n            axios.post('/api/favourite/addToFavourite', variable)\r\n                .then(response => {\r\n                    if (response.data.success) {\r\n                        setNumber(favouriteNumber + 1)\r\n                        setFavourited(!favourited)\r\n                    } else {\r\n                        alert('Failed to Add To Favourite')\r\n                    }\r\n                })\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <Button onClick={handelFavourite}> {favourited?\"Remove From Favourite\":\"Add To Favourite\"} {favouriteNumber}</Button>\r\n        </div>\r\n     )\r\n}\r\n\r\nexport default FavouriteButton;\r\n"]},"metadata":{},"sourceType":"module"}